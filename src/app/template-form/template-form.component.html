<form #form="ngForm" (ngSubmit)="onSubmit(form)">
  <div class=" col-12 mb-3">
    <label for="nome" 
    class="form-label">Nome</label>
    <input [ngClass]="aplicarErro(nome)"
     type="text" 
     class="form-control" 
     id="nome" 
     placeholder="Nome"
     name="nome" 
     ngModel 
     required 
     #nome="ngModel">

    <app-campo-control 
    [mostrarErro]="verificarValid(nome)"
     msgErro="Nome é obrigatório">
    </app-campo-control>
  </div>


  <div class="col-12 mb-3">
    <label for="email" class="form-label">E-mail</label>
    <input 
    type="email" 
    class="form-control" 
    id="email" 
    placeholder="nome@email.com"
    name="email" 
    ngModel 
    required 
    email
    #email="ngModel" 
    [ngClass]="aplicarErro(email)">

    <app-campo-control 
    [mostrarErro]="verificarValid(email)"
     msgErro="E-mail é obrigatório">
    </app-campo-control>
  </div>

  <div ngModelGroup="endereço">
  <div class="row g-3 mb-3">

    <div class="col-md-3">
      <label 
      for="cep" 
      class="form-label">CEP</label>
      <input 
      type="text" 
      name="cep" 
      class="form-control" 
      [ngClass]="aplicarErro(cep)" 
      #cep="ngModel"
      ngModel 
      required
      (blur)="consultaCep(cep.value, form)">

      <app-campo-control 
      [mostrarErro]="verificarValid(cep)" 
      msgErro="CEP é obrigatório"></app-campo-control>
    </div>

    <div class="col-md-3">
      <label for="number" 
      class="form-label">Número</label>
      <input type="number" 
      name="number" 
      class="form-control" 
      [ngClass]="aplicarErro(number)" 
      #number="ngModel" 
      ngModel 
      required>

      <app-campo-control 
      [mostrarErro]="verificarValid(number)" 
      msgErro="Número é obrigatório"></app-campo-control>
    </div>

    <div class="col-md-6">
      <label for="complemento" class="form-label">Complemento</label>
      <input 
      type="text" 
      name="complemento" 
      class="form-control" 
      [ngClass]="aplicarErro(complemento)"
      #complemento="ngModel" 
      ngModel>
    </div>

  </div>

  <div class=" col-12 mb-3">
    <label for="rua" class="form-label">Rua</label>
    <input [ngClass]="aplicarErro(rua)" 
    type="rua" 
    class="form-control"
    id="rua" 
    aria-describedby="rua" 
    name="rua" 
    ngModel 
    required 
    #rua="ngModel">
    <app-campo-control 
    [mostrarErro]="verificarValid(rua)" 
    msgErro="Rua é obrigatório"></app-campo-control>
  </div>


  <div class="row g-3 mb-3">

    <div class="col-md-5">
      <label for="bairro" class="form-label">Bairro</label>
      <input type="text"
      name="bairro"
      class="form-control" 
      [ngClass]="aplicarErro(bairro)" 
      #bairro="ngModel" 
      ngModel 
      required>

      <app-campo-control 
      [mostrarErro]="verificarValid(bairro)" 
      msgErro="Bairro é obrigatório"></app-campo-control>
    </div>

    <div class="col-md-4">
      <label for="cidade" class="form-label">Cidade</label>
      <input 
      type="text" 
      name="cidade" 
      class="form-control" 
      [ngClass]="aplicarErro(cidade)" 
      #cidade="ngModel" 
      ngModel 
      required>

      <app-campo-control 
      [mostrarErro]="verificarValid(cidade)" 
      msgErro="Cidade é obrigatório"></app-campo-control>
    </div>

    <div class="col-md-3">
      <label for="estado" class="form-label">Estado</label>
      <input type="text" 
      name="estado" 
      class="form-control" 
      [ngClass]="aplicarErro(estado)"
      #estado="ngModel" 
      ngModel 
      required>

      <app-campo-control 
      [mostrarErro]="verificarValid(estado)" 
      msgErro="Estado é obrigatório"></app-campo-control>

    </div>

  </div>
  </div>

  <button type="submit" class="btn btn-primary" [disabled]="!form.valid">Submit</button>

  <app-form-debug [form]="form"></app-form-debug>
</form>